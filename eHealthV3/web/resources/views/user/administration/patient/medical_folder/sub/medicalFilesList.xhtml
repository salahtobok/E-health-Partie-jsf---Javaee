<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
>




    <h:panelGroup rendered="#{medicalFolderViewScopedController.selectedDossierMedical.lesFichesMedicals.size() ==0}">
        <div class="alert alert-warning">
            <strong>Info!!</strong>N'a pas de fiches médicales
        </div>
    </h:panelGroup>


    <h:panelGroup id="medicalFilelist"
            rendered="#{medicalFolderViewScopedController.selectedDossierMedical.lesFichesMedicals.size() !=0}">
        <p:dataScroller value="#{medicalFolderViewScopedController.selectedDossierMedical.lesFichesMedicals}"
                        var="medicalFile"
                        chunkSize="5">


            <p:panel header="Numéro : #{medicalFile.idFicheMedical}"
                     footer="Date de création : #{medicalFile.dateCreation}" style="margin-bottom:20px">

                <h:panelGrid columns="1" cellpadding="10" cellspacing="1">

                    <h:outputText
                            value="Détail"/>
                    <h:outputText
                            value="#{medicalFile.detail}" escape="false"/>
                </h:panelGrid>

                <f:facet name="footer">
                    <h:panelGroup style="display:block; text-align:right">
                        <p:commandButton style="font-size: x-small" value="Détail" ajax="false" icon="ui-icon-arrowthick-1-s">
                            <p:fileDownload value="#{medicalFileViewScopedController.getAttachment(
                            medicalFile.dossierMedical.patient.numeroAssurance,
                            medicalFile.dateCreation,
                            medicalFile.attachement
                            )}" />
                        </p:commandButton>

                    </h:panelGroup>
                </f:facet>
            </p:panel>


        </p:dataScroller>


    </h:panelGroup>



</ui:composition>
